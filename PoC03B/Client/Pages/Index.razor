@page "/"

<PageTitle>Index DynamicForm</PageTitle>

@if(FormHistory != null)
{
    <MudTable Items="@FormHistory" Hover="true" Breakpoint="Breakpoint.Sm" Loading="@loading" Outlined="false" 
        LoadingProgressColor="Color.Info">
        <ColGroup>
            <col style="width:5%;" />
            <col style="width:10%;"/>
            <col />
            <col />
        </ColGroup>
        <HeaderContent>
            <MudTh>
                <MudIconButton Icon="@Icons.Material.Outlined.AddCircle" Size="Size.Medium" Color="Color.Info" 
                    OnClick="@(() => OnClick_NewForm())" />
            </MudTh>
            <MudTh>Fecha/Hora</MudTh>
            <MudTh>Nombre</MudTh>
            <MudTh>Descripción</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd>
                <MudIconButton Icon="@Icons.Material.Outlined.Edit" Size="Size.Medium" Color="Color.Info" 
                    OnClick="@(() => OnClick_EditForm(context.Id))" />
            </MudTd>
            <MudTd DataLabel="Date">@context.SavedDate</MudTd>
            <MudTd DataLabel="Name">@context.Name</MudTd>
            <MudTd DataLabel="Description">@context.Description</MudTd>
        </RowTemplate>
    </MudTable>
}
else
{
    <p>No se encontraron formularios.</p>
}