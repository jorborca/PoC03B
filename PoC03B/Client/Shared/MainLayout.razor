@inherits LayoutComponentBase

<CascadingValue Value=@FormLayoutViewModelService Name="FormLayoutViewModel">
    <MudLayout>
        <MudAppBar Color="Color.Info" Elevation="1" Dense="true" ToolBarClass="pr-1">
            @*<MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@ToggleDrawer" />*@
            <MudText Typo="Typo.h6">DynaForms | @(FormLayoutViewModelService.State.ToString())</MudText>
            @*<MudDivider Vertical="true" FlexItem="true" Class="ml-11 mr-5"/>*@

            <MudIconButton Icon="@Icons.Material.Outlined.Home" Class="ml-12" Size="Size.Medium" Color="Color.Inherit" OnClick="OnClick_SelectForm" />

            @*@if (FormLayoutViewModelService.CheckState(FormState.Selection) || FormLayoutViewModelService.CheckState(FormState.Design) || FormLayoutViewModelService.CheckState(FormState.View))
            {
                <MudIconButton Icon="@Icons.Material.Outlined.CreateNewFolder" Size="Size.Medium" Color="Color.Inherit" OnClick="OnClick_NewForm" />
                <MudIconButton Icon="@Icons.Material.Outlined.DriveFolderUpload" Size="Size.Medium" Color="Color.Inherit" OnClick="OnClick_LoadForm" />
            }*@

            @if (FormLayoutViewModelService.CheckState(FormState.Design))
            {
                <MudIconButton Icon="@Icons.Material.Outlined.Save" Size="Size.Medium" Color="Color.Inherit" OnClick="OnClick_SaveForm" />
                @*<MudDivider DividerType="DividerType.Middle" Vertical="true"></MudDivider>*@
                <MudSpacer />
                <MudIconButton Icon="@Icons.Material.Outlined.Preview" Size="Size.Medium" Color="Color.Inherit" OnClick="@OnClick_ViewMode" />
            }

            @if (FormLayoutViewModelService.CheckState(FormState.View))
            {
                <MudSpacer />
                <MudIconButton Icon="@Icons.Material.Outlined.EditNote" Size="Size.Medium" Color="Color.Inherit" OnClick="@OnClick_DesignMode" />
            }
        </MudAppBar>
        @if (FormLayoutViewModelService.CheckState(FormState.Design))
        {
            <MudDrawer Open="true" Fixed="true" Elevation="1" Variant="@DrawerVariant.Mini" ClipMode="DrawerClipMode.Docked"
                   OpenMiniOnHover="true" Color="Color.Dark" Anchor="Anchor.Left">
                <ToolsMenu></ToolsMenu>
            </MudDrawer>
            <MudDrawer Open="true" Fixed="true" Elevation="1" Variant="@DrawerVariant.Mini" ClipMode="DrawerClipMode.Docked"
                   OpenMiniOnHover="true" Color="Color.Dark" Anchor="Anchor.Right">
                <ParametersMenu></ParametersMenu>
            </MudDrawer>
        }
        <MudMainContent Class="mt-5 pl-5 px-2">
            @Body
            @*<MudContainer>
            </MudContainer>*@
        </MudMainContent>
        @*<MudDrawerContainer Class="mud-height-full">
        </MudDrawerContainer>*@
    </MudLayout>
</CascadingValue>